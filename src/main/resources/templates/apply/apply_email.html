<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragment/config :: configFragment"></head>
<body>
    <!-- 헤더 -->
    <app-header></app-header>

    <!-- 본문 -->
    <main class="main">
        <div class="apply">
            <div class="apply-image">
                <img src="/kbinnovationhub/images/dummy/apply-image.jpg" alt="">
            </div>
            <div class="apply-contents">
                 <!--
                    다음으로 버튼 클릭 후 항목에 미 체크되어 있으면 form 태그에 need-invalid 클래스 추가 해주세요.
                    기본상태는 클래스 비워주시면 됩니다.
                -->
                <form id="applyForm">
                    <!-- 기본 상태 <form> -->
                    <div class="context">
                        <!-- 질문 -->
                        <h1 class="h5">이메일을 입력해주세요.</h1>
                        <!-- 주관식 -->
                        <input class="input" type="text" name="email">
                        <!-- 유효성 체크 문구(form 태그에 need-invalid 클래스가 있으면 아래 문구가 나타납니다) -->
                        <div class="invalid-feedback"><i class="icon icon-danger"></i>항목을 입력해주세요.</div>
                    </div>

                    <input type="hidden" name="surveyNo" th:value="${surveyNo}">
                    <input type="hidden" name="companyName" th:value="${companyName}"> <!-- 추가 -->
                    <div class="bottom-button">
                        <button class="button button-border" onclick="next()"><span>다음으로</span> <i class="icon icon-chevron-right"></i></button>
                    </div>
                </form>

            </div>
        </div>
    </main>

    <!-- 푸터 -->
    <app-footer></app-footer>

    <!-- 스크립트 -->
    <script>
    function next() {
        let email = document.querySelector('input[name="email"]').value;
        if (email === '') {
            $("#applyForm").addClass("need-invalid");
            return;
        } else {
            const form = document.getElementById('applyForm');
            form.method = "POST";
            form.action = "/kbinnovationhub/starters/apply/survey";
            form.submit();
        }
    }
    </script>
</body>
</html>